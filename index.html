<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPSYSTEM - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º —É–ø–∞–∫–æ–≤–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</title>
    <meta name="description" content="–í–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º —É–ø–∞–∫–æ–≤–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤: —ç–∫—Å—Ç—Ä—É–∑–∏—è, –ª–∞–º–∏–Ω–∞—Ü–∏—è, –ø–µ—á–∞—Ç—å">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüè≠%3C/text%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="frontend/css/styles.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <span class="logo-icon">üè≠</span>
                <div class="logo-text">
                    <h1>MPSYSTEM</h1>
                    <span class="subtitle">–£–ø–∞–∫–æ–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
                </div>
            </div>
            <div class="system-status">
                <span class="status-indicator online" id="systemStatus">‚óè Online</span>
                <span class="time" id="currentTime"></span>
            </div>
        </div>

        <nav class="sidebar-nav">
            <button class="nav-item active" onclick="showTab('dashboard')" data-page="dashboard">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Dashboard</span>
            </button>
            <button class="nav-item" onclick="showTab('planning')" data-page="planning">
                <span class="nav-icon">üìã</span>
                <span class="nav-text">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
            </button>
            <button class="nav-item" onclick="showTab('production')" data-page="production">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-text">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</span>
            </button>
            <button class="nav-item" onclick="showTab('quality')" data-page="quality">
                <span class="nav-icon">üî¨</span>
                <span class="nav-text">–ö–∞—á–µ—Å—Ç–≤–æ</span>
            </button>
            <button class="nav-item" onclick="showTab('warehouse')" data-page="warehouse">
                <span class="nav-icon">üì¶</span>
                <span class="nav-text">–°–∫–ª–∞–¥</span>
            </button>
            <button class="nav-item" onclick="showTab('purchasing')" data-page="purchasing">
                <span class="nav-icon">üõí</span>
                <span class="nav-text">–ó–∞–∫—É–ø–∫–∏</span>
            </button>
            <button class="nav-item" onclick="showTab('orders')" data-page="orders">
                <span class="nav-icon">üìë</span>
                <span class="nav-text">–ó–∞–∫–∞–∑—ã</span>
            </button>
            <button class="nav-item" onclick="showTab('maintenance')" data-page="maintenance">
                <span class="nav-icon">üîß</span>
                <span class="nav-text">–¢–û</span>
            </button>
            <button class="nav-item" onclick="showTab('analytics')" data-page="analytics">
                <span class="nav-icon">üìà</span>
                <span class="nav-text">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
            </button>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-wrapper">
            <!-- –°–¢–†–ê–ù–ò–¶–ê: DASHBOARD (–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å) -->
            <div id="dashboard" class="tab-content active">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
                <div class="user-info">
                    <span class="user-name">Admin User</span>
                    <span class="user-role">–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                </div>

                <!-- –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫: –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (4 –∫–∞—Ä—Ç–æ—á–∫–∏) -->
                <div class="dashboard-metrics">
                    <div class="metrics-grid">
                        <div class="metric-card availability">
                            <div class="metric-header">
                                <span class="metric-icon">üìä</span>
                                <span class="metric-title">Orders</span>
                            </div>
                            <div class="metric-value" id="totalOrders">47</div>
                            <div class="metric-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                            <div class="metric-change positive">+12%</div>
                        </div>
                        <div class="metric-card performance">
                            <div class="metric-header">
                                <span class="metric-icon">‚öôÔ∏è</span>
                                <span class="metric-title">Production</span>
                            </div>
                            <div class="metric-value" id="productionEfficiency">89.2%</div>
                            <div class="metric-label">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                            <div class="metric-change positive">+3.1%</div>
                        </div>
                        <div class="metric-card quality">
                            <div class="metric-header">
                                <span class="metric-icon">üî¨</span>
                                <span class="metric-title">Efficiency</span>
                            </div>
                            <div class="metric-value" id="overallEfficiency">92.4%</div>
                            <div class="metric-label">OEE</div>
                            <div class="metric-change negative">-1.2%</div>
                        </div>
                        <div class="metric-card total">
                            <div class="metric-header">
                                <span class="metric-icon">‚úÖ</span>
                                <span class="metric-title">Quality</span>
                            </div>
                            <div class="metric-value" id="qualityScore">96.8%</div>
                            <div class="metric-label">–ö–∞—á–µ—Å—Ç–≤–æ</div>
                            <div class="metric-change positive">+0.5%</div>
                        </div>
                    </div>
                </div>

                <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫: –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏ -->
                <div class="production-overview">
                    <div class="card">
                        <div class="card-header">
                            <h3>üè≠ –û–±–∑–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π</h3>
                        </div>

                        <!-- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ª–∏–Ω–∏–π –ø–æ —Ç–∏–ø–∞–º -->
                        <div class="line-group">
                            <div class="line-group-header">
                                <h4>üîÑ –≠–∫—Å—Ç—Ä—É–∑–∏—è</h4>
                                <span class="group-status">6 –ª–∏–Ω–∏–π + –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</span>
                            </div>
                            <div class="lines-grid">
                                <div class="line-card" onclick="showLineDetails('EXT-1')">
                                    <div class="line-header">
                                        <span class="line-name">–õ–∏–Ω–∏—è EXT-1</span>
                                        <span class="line-status running">Running</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ó–∞–∫–∞–∑ ZP-2024/0142</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 73%"></div>
                                            </div>
                                            <span class="progress-text">73% (2—á 15–º)</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: 94.2%</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 3</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="toggleLine('EXT-1', event)">‚è∏Ô∏è</button>
                                    </div>
                                </div>
                                
                                <div class="line-card" onclick="showLineDetails('EXT-2')">
                                    <div class="line-header">
                                        <span class="line-name">–õ–∏–Ω–∏—è EXT-2</span>
                                        <span class="line-status idle">Idle</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text">–û–∂–∏–¥–∞–Ω–∏–µ</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: ‚Äî</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 5</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="startLine('EXT-2', event)">‚ñ∂Ô∏è</button>
                                    </div>
                                </div>
                                
                                <div class="line-card" onclick="showLineDetails('EXT-3')">
                                    <div class="line-header">
                                        <span class="line-name">–õ–∏–Ω–∏—è EXT-3</span>
                                        <span class="line-status maintenance">Maintenance</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–¢–û –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 45%"></div>
                                            </div>
                                            <span class="progress-text">45% (1—á 30–º)</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>–¢–û –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è: 16:30</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 2</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="viewMaintenance('EXT-3', event)">üîß</button>
                                    </div>
                                </div>
                                
                                <div class="line-card" onclick="showLineDetails('EXT-4')">
                                    <div class="line-header">
                                        <span class="line-name">–õ–∏–Ω–∏—è EXT-4</span>
                                        <span class="line-status running">Running</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ó–∞–∫–∞–∑ ZP-2024/0158</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 28%"></div>
                                            </div>
                                            <span class="progress-text">28% (4—á 45–º)</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: 91.7%</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 4</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="toggleLine('EXT-4', event)">‚è∏Ô∏è</button>
                                    </div>
                                </div>

                                <div class="line-card" onclick="showLineDetails('CUT-1')">
                                    <div class="line-header">
                                        <span class="line-name">–†–µ–∑–∫–∞ CUT-1</span>
                                        <span class="line-status running">Running</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ó–∞–∫–∞–∑ ZP-2024/0134</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 82%"></div>
                                            </div>
                                            <span class="progress-text">82% (0—á 45–º)</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: 96.1%</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 1</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="toggleLine('CUT-1', event)">‚è∏Ô∏è</button>
                                    </div>
                                </div>

                                <div class="line-card" onclick="showLineDetails('CUT-2')">
                                    <div class="line-header">
                                        <span class="line-name">–†–µ–∑–∫–∞ CUT-2</span>
                                        <span class="line-status idle">Idle</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text">–û–∂–∏–¥–∞–Ω–∏–µ</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: ‚Äî</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 0</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="startLine('CUT-2', event)">‚ñ∂Ô∏è</button>
                                    </div>
                                </div>

                                <div class="line-card" onclick="showLineDetails('LAB-1')">
                                    <div class="line-header">
                                        <span class="line-name">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</span>
                                        <span class="line-status running">Testing</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑—Ü–æ–≤</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 60%"></div>
                                            </div>
                                            <span class="progress-text">3 –æ–±—Ä–∞–∑—Ü–∞</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤: 3</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 7</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="viewLab('LAB-1', event)">üî¨</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="line-group">
                            <div class="line-group-header">
                                <h4>üìÑ –õ–∞–º–∏–Ω–∞—Ü–∏—è</h4>
                                <span class="group-status">1 –ª–∏–Ω–∏—è + —Ä–µ–∑–∫–∞</span>
                            </div>
                            <div class="lines-grid">
                                <div class="line-card" onclick="showLineDetails('LAM-1')">
                                    <div class="line-header">
                                        <span class="line-name">–õ–∏–Ω–∏—è LAM-1</span>
                                        <span class="line-status running">Running</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ó–∞–∫–∞–∑ ZP-2024/0167</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 41%"></div>
                                            </div>
                                            <span class="progress-text">41% (3—á 20–º)</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: 88.9%</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 6</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="toggleLine('LAM-1', event)">‚è∏Ô∏è</button>
                                    </div>
                                </div>

                                <div class="line-card" onclick="showLineDetails('LAM-CUT-1')">
                                    <div class="line-header">
                                        <span class="line-name">–†–µ–∑–∫–∞ LAM-CUT</span>
                                        <span class="line-status idle">Idle</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text">–û–∂–∏–¥–∞–Ω–∏–µ</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: ‚Äî</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 2</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="startLine('LAM-CUT-1', event)">‚ñ∂Ô∏è</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="line-group">
                            <div class="line-group-header">
                                <h4>üé® –ü–µ—á–∞—Ç—å</h4>
                                <span class="group-status">2 –ª–∏–Ω–∏–∏</span>
                            </div>
                            <div class="lines-grid">
                                <div class="line-card" onclick="showLineDetails('PRINT-FLEXO')">
                                    <div class="line-header">
                                        <span class="line-name">–§–ª–µ–∫—Å–æ–ø–µ—á–∞—Ç—å</span>
                                        <span class="line-status running">Running</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ó–∞–∫–∞–∑ ZP-2024/0189</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 67%"></div>
                                            </div>
                                            <span class="progress-text">67% (1—á 50–º)</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: 93.4%</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 8</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="toggleLine('PRINT-FLEXO', event)">‚è∏Ô∏è</button>
                                    </div>
                                </div>

                                <div class="line-card" onclick="showLineDetails('PRINT-DIGITAL')">
                                    <div class="line-header">
                                        <span class="line-name">–¶–∏—Ñ—Ä–æ–≤–∞—è –ø–µ—á–∞—Ç—å</span>
                                        <span class="line-status idle">Idle</span>
                                    </div>
                                    <div class="line-details">
                                        <div class="current-order">–ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ</div>
                                        <div class="progress-info">
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 0%"></div>
                                            </div>
                                            <span class="progress-text">–û–∂–∏–¥–∞–Ω–∏–µ</span>
                                        </div>
                                        <div class="line-metrics">
                                            <span>OEE: ‚Äî</span>
                                            <span>–û—á–µ—Ä–µ–¥—å: 4</span>
                                        </div>
                                    </div>
                                    <div class="line-actions">
                                        <button class="btn-action" onclick="startLine('PRINT-DIGITAL', event)">‚ñ∂Ô∏è</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤—ã–π –±–ª–æ–∫: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
                <div class="alerts-panel">
                    <div class="card">
                        <div class="card-header">
                            <h3>üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                        </div>
                        <div class="alerts-list" id="criticalAlerts">
                            <div class="alert-item critical">
                                <div class="alert-icon">‚ö†Ô∏è</div>
                                <div class="alert-text">
                                    <strong>–ù–∏–∑–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</strong><br>
                                    LDPE –ø–ª–µ–Ω–∫–∞ 50–º–∫–º: –æ—Å—Ç–∞–ª–æ—Å—å 2 –¥–Ω—è
                                </div>
                                <div class="alert-time">5 –º–∏–Ω –Ω–∞–∑–∞–¥</div>
                                <div class="alert-action">
                                    <button class="btn btn-sm btn-primary" onclick="orderMaterial('LDPE-50')">–ó–∞–∫–∞–∑–∞—Ç—å</button>
                                </div>
                            </div>
                            <div class="alert-item warning">
                                <div class="alert-icon">‚è∞</div>
                                <div class="alert-text">
                                    <strong>–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑</strong><br>
                                    ZP-2024/0134 –ø—Ä–æ—Å—Ä–æ—á–µ–Ω –Ω–∞ 2 –¥–Ω—è
                                </div>
                                <div class="alert-time">15 –º–∏–Ω –Ω–∞–∑–∞–¥</div>
                                <div class="alert-action">
                                    <button class="btn btn-sm btn-warning" onclick="escalateOrder('ZP-2024/0134')">–≠—Å–∫–∞–ª–∞—Ü–∏—è</button>
                                </div>
                            </div>
                            <div class="alert-item info">
                                <div class="alert-icon">üîß</div>
                                <div class="alert-text">
                                    <strong>–ü–ª–∞–Ω–æ–≤–æ–µ –¢–û</strong><br>
                                    –õ–∏–Ω–∏—è EXT-2: –¢–û —á–µ—Ä–µ–∑ 3 –¥–Ω—è
                                </div>
                                <div class="alert-time">1 —á–∞—Å –Ω–∞–∑–∞–¥</div>
                                <div class="alert-action">
                                    <button class="btn btn-sm btn-secondary" onclick="scheduleMaintenance('EXT-2')">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
                                </div>
                            </div>
                            <div class="alert-item warning">
                                <div class="alert-icon">üìâ</div>
                                <div class="alert-text">
                                    <strong>–°–Ω–∏–∂–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞</strong><br>
                                    –ü–∞—Ä—Ç–∏—è B-1247: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–æ–ª—â–∏–Ω—ã
                                </div>
                                <div class="alert-time">2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</div>
                                <div class="alert-action">
                                    <button class="btn btn-sm btn-danger" onclick="quarantineBatch('B-1247')">–ö–∞—Ä–∞–Ω—Ç–∏–Ω</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –°–¢–†–ê–ù–ò–¶–ê: ORDERS (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏) -->
            <div id="orders" class="tab-content">
                <!-- –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫: –°–≤–æ–¥–∫–∞ –ø–æ –∑–∞–∫–∞–∑–∞–º (4 –∫–∞—Ä—Ç–æ—á–∫–∏) -->
                <div class="orders-summary">
                    <div class="summary-grid">
                        <div class="summary-card new">
                            <div class="summary-header">
                                <span class="summary-icon">üìù</span>
                                <span class="summary-title">New</span>
                            </div>
                            <div class="summary-value" id="ordersNew">23</div>
                            <div class="summary-label">–ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã</div>
                        </div>
                        <div class="summary-card queued">
                            <div class="summary-header">
                                <span class="summary-icon">‚è≥</span>
                                <span class="summary-title">Queued</span>
                            </div>
                            <div class="summary-value" id="ordersQueued">45</div>
                            <div class="summary-label">–í –æ—á–µ—Ä–µ–¥–∏</div>
                        </div>
                        <div class="summary-card in-progress">
                            <div class="summary-header">
                                <span class="summary-icon">‚öôÔ∏è</span>
                                <span class="summary-title">In Progress</span>
                            </div>
                            <div class="summary-value" id="ordersInProgress">18</div>
                            <div class="summary-label">–í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ</div>
                        </div>
                        <div class="summary-card critical">
                            <div class="summary-header">
                                <span class="summary-icon">üö®</span>
                                <span class="summary-title">Critical</span>
                            </div>
                            <div class="summary-value" id="ordersCritical">7</div>
                            <div class="summary-label">–ö—Ä–∏—Ç–∏—á–Ω—ã–µ</div>
                        </div>
                    </div>
                </div>

                <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                <div class="orders-filters-compact">
                    <div class="filters-row-horizontal">
                        <!-- –ì—Ä—É–ø–ø–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
                        <div class="filters-main-group">
                            <select id="statusFilter" class="filter-compact" onchange="applyOrdersFilters()">
                                <option value="">üìã –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="new">üÜï –ù–æ–≤—ã–π</option>
                                <option value="confirmed">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω</option>
                                <option value="planned">üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω</option>
                                <option value="in_production">‚öôÔ∏è –í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ</option>
                                <option value="completed">‚úîÔ∏è –ó–∞–≤–µ—Ä—à–µ–Ω</option>
                                <option value="shipped">üì¶ –û—Ç–≥—Ä—É–∂–µ–Ω</option>
                            </select>
                            
                            <input type="text" id="clientFilter" class="filter-compact" placeholder="üë• –ö–ª–∏–µ–Ω—Ç..." list="clientsList" onchange="applyOrdersFilters()">
                            <datalist id="clientsList">
                                <option value="MLEKOVITA">
                                <option value="AGRONA">
                                <option value="LACPOL">
                                <option value="DANONE">
                                <option value="MONDELEZ">
                            </datalist>
                            
                            <select id="priorityFilter" class="filter-compact" onchange="applyOrdersFilters()">
                                <option value="">üî• –í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
                                <option value="low">üü¢ –ù–∏–∑–∫–∏–π</option>
                                <option value="normal">üîµ –û–±—ã—á–Ω—ã–π</option>
                                <option value="high">üü° –í—ã—Å–æ–∫–∏–π</option>
                                <option value="urgent">üî¥ –°—Ä–æ—á–Ω—ã–π</option>
                            </select>
                        </div>
                        
                        <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
                        <div class="filters-separator"></div>
                        
                        <!-- –ì—Ä—É–ø–ø–∞ –ø–æ–∏—Å–∫–∞ –∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                        <div class="filters-action-group">
                            <div class="search-box">
                                <input type="text" id="searchFilter" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É, –ø—Ä–æ–¥—É–∫—Ç—É..." onkeyup="handleSearchKeyup(event)">
                            </div>
                            
                            <div class="action-buttons">
                                <button class="btn-icon btn-secondary" onclick="applyOrdersFilters()" data-loading="orders" title="–ü–æ–∏—Å–∫">
                                    üîç
                                </button>
                                <button class="btn-icon btn-secondary" onclick="resetOrdersFilters()" title="–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã">
                                    üîÑ
                                </button>
                                <button class="btn-icon btn-secondary" onclick="modeDetector.detectApiMode()" title="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API">
                                    üì°
                                </button>
                                <button class="btn-compact btn-primary" onclick="showCreateOrderModal()">
                                    ‚ûï –ù–æ–≤—ã–π –∑–∞–∫–∞–∑
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π loading indicator -->
                    <div id="loading-orders" style="display: none;" class="loading-compact">
                        <div class="loading-spinner-small"></div>
                        <span>–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                </div>

                <div class="orders-main">
                    <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ -->
                    <div class="orders-table-section">
                        <div class="card table-card">
                            <div class="card-header">
                                <h3>üìë –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h3>
                                                                 <div class="header-actions">
                                     <span id="orders-count" class="text-muted">–í—Å–µ–≥–æ: 0</span>
                                     <button class="btn btn-secondary" onclick="modeDetector.detectApiMode()">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API</button>
                                     <button class="btn btn-primary" onclick="refreshOrdersData()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                                 </div>
                            </div>

                            <div class="table-container">
                                <table class="orders-table">
                                    <thead>
                                        <tr>
                                            <th>‚Ññ –ó–∞–∫–∞–∑–∞</th>
                                            <th>–ö–ª–∏–µ–Ω—Ç</th>
                                            <th>–ü—Ä–æ–¥—É–∫—Ç</th>
                                            <th>–ö–æ–ª-–≤–æ</th>
                                            <th>–°—Ä–æ–∫</th>
                                            <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                                            <th>–°—Ç–∞—Ç—É—Å</th>
                                            <th>–ü—Ä–æ–≥—Ä–µ—Å—Å</th>
                                            <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
                                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ordersTableBody">
                                        <!-- Orders –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                        <tr id="orders-loading-row" style="display: none;">
                                            <td colspan="10" class="text-center">
                                                <div class="loading-spinner">
                                                    <span>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤...</span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr id="orders-empty-row" style="display: none;">
                                            <td colspan="10" class="text-center text-muted">
                                                –ó–∞–∫–∞–∑—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Pagination -->
                            <div class="table-footer">
                                <div id="orders-pagination" class="pagination">
                                    <!-- Pagination –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å: Timeline –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ -->
                    <div class="production-timeline-panel">
                        <div class="card">
                            <div class="card-header">
                                <h3>üè≠ Timeline –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</h3>
                                <div class="timeline-legend">
                                    <span class="legend-item completed">‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                                    <span class="legend-item current">‚è≥ –¢–µ–∫—É—â–∏–π</span>
                                    <span class="legend-item pending">‚è∏Ô∏è –û–∂–∏–¥–∞–Ω–∏–µ</span>
                                </div>
                            </div>
                            
                            <div class="timeline-content" id="productionTimeline">
                                <div class="timeline-placeholder">
                                    –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–∫–∞–∑ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ timeline –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
            <div id="planning" class="tab-content">
                <h2>üìã –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>

            <div id="production" class="tab-content">
                <h2>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>

            <div id="quality" class="tab-content">
                <h2>üî¨ –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>

            <div id="warehouse" class="tab-content">
                <h2>üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–º</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∫–ª–∞–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>

            <div id="purchasing" class="tab-content">
                <h2>üõí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫—É–ø–∫–∞–º–∏</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫—É–ø–æ–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>

            <div id="maintenance" class="tab-content">
                <h2>üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¢–û –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>

            <div id="analytics" class="tab-content">
                <h2>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã</h2>
                <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
            </div>
        </div>
    </main>

    <!-- Create Order Modal -->
    <div id="createOrderModal" class="modal side-panel">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title-area">
                    <h3 class="modal-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑</h3>
                    <small class="text-muted">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</small>
                </div>
                <div class="modal-controls">
                    <button class="close" onclick="hideCreateOrderModal()">&times;</button>
                </div>
            </div>
            <div class="modal-body">
                <form id="createOrderForm" onsubmit="handleCreateOrderSubmit(event)">
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ -->
                    <div class="form-section">
                        <h4>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clientId">ID –∫–ª–∏–µ–Ω—Ç–∞ *</label>
                                <input type="text" id="clientId" required pattern="[A-Z]{2}-[0-9]{3}" 
                                       placeholder="ML-001" list="clientIdsList" onchange="updateClientName()">
                                <datalist id="clientIdsList">
                                    <option value="ML-001">
                                    <option value="AG-001">
                                    <option value="LP-001">
                                    <option value="DN-001">
                                    <option value="MZ-001">
                                </datalist>
                            </div>
                            <div class="form-group">
                                <label for="clientName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ *</label>
                                <input type="text" id="clientName" required placeholder="MLEKOVITA" 
                                       list="clientNamesList" onchange="updateClientId()">
                                <datalist id="clientNamesList">
                                    <option value="MLEKOVITA">
                                    <option value="AGRONA">
                                    <option value="LACPOL">
                                    <option value="DANONE">
                                    <option value="MONDELEZ">
                                </datalist>
                            </div>
                        </div>
                    </div>

                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ -->
                    <div class="form-section">
                        <h4>üì¶ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productId">ID –ø—Ä–æ–¥—É–∫—Ç–∞ *</label>
                                <input type="text" id="productId" required pattern="[A-Z]{3}-[0-9]{3}" 
                                       placeholder="PKG-001">
                            </div>
                            <div class="form-group">
                                <label for="productName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ *</label>
                                <input type="text" id="productName" required 
                                       placeholder="Opakowania do ser√≥w ≈º√≥≈Çtych 500g">
                            </div>
                        </div>
                    </div>

                    <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –µ–¥–∏–Ω–∏—Ü—ã -->
                    <div class="form-section">
                        <h4>üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —É—Å–ª–æ–≤–∏—è</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ *</label>
                                <input type="number" id="quantity" required min="0.001" step="0.001" 
                                       placeholder="50000">
                            </div>
                            <div class="form-group">
                                <label for="unit">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è *</label>
                                <select id="unit" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –µ–¥–∏–Ω–∏—Ü—É</option>
                                    <option value="pcs">—à—Ç</option>
                                    <option value="kg">–∫–≥</option>
                                    <option value="m">–º</option>
                                    <option value="m2">–º¬≤</option>
                                    <option value="l">–ª</option>
                                    <option value="ton">—Ç</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dueDate">–°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏ *</label>
                                <input type="date" id="dueDate" required>
                            </div>
                            <div class="form-group">
                                <label for="priority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç *</label>
                                <select id="priority" required>
                                    <option value="normal">–û–±—ã—á–Ω—ã–π</option>
                                    <option value="low">–ù–∏–∑–∫–∏–π</option>
                                    <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                                    <option value="urgent">–°—Ä–æ—á–Ω—ã–π</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="form-section">
                        <h4>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="value">–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞ (PLN)</label>
                                <input type="number" id="value" min="0" step="0.01" placeholder="125000.00">
                            </div>
                            <div class="form-group">
                                <label for="margin">–ú–∞—Ä–∂–∞ (%)</label>
                                <input type="number" id="margin" min="0" max="100" step="0.1" placeholder="18.5">
                            </div>
                        </div>
                    </div>

                    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="form-section">
                        <h4>üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <div class="form-group">
                            <label for="specialRequirements">–û—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</label>
                            <textarea id="specialRequirements" rows="3" 
                                      placeholder="Nadruk logo MLEKOVITA, certyfikat BRC, specific technical requirements..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="createdBy">–°–æ–∑–¥–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º *</label>
                            <input type="text" id="createdBy" required value="admin@mpsystem.pl">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="hideCreateOrderModal()">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button type="submit" form="createOrderForm" class="btn btn-primary" data-loading="create-order">
                    ‚úÖ –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="frontend/js/config.js"></script>
    <script src="frontend/js/demo-data.js"></script>
    <script src="frontend/js/app.js"></script>
</body>
</html>